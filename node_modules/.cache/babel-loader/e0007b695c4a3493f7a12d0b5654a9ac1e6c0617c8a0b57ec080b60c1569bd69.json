{"ast":null,"code":"'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\nvar Suggestions = function (el, data, options) {\n  options = options || {};\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true,\n    noInitialSelection: true\n  }, options);\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n  this.query = '';\n  this.selected = null;\n  this.list.draw();\n  this.el.addEventListener('keyup', function (e) {\n    this.handleKeyUp(e.keyCode, e);\n  }.bind(this), false);\n  this.el.addEventListener('keydown', function (e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n  this.el.addEventListener('focus', function () {\n    this.handleFocus();\n  }.bind(this));\n  this.el.addEventListener('blur', function () {\n    this.handleBlur();\n  }.bind(this));\n  this.el.addEventListener('paste', function (e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = this.options.render ? this.options.render.bind(this) : this.render.bind(this);\n  this.getItemValue = this.options.getItemValue ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n  return this;\n};\nSuggestions.prototype.handleKeyUp = function (keyCode, e) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 || keyCode === 38 || keyCode === 27 || keyCode === 9) return;\n  if (keyCode === 13) {\n    if (this.list.items[this.list.active]) {\n      this.list.handleMouseUp(this.list.items[this.list.active]);\n      e.stopPropagation();\n    }\n    return;\n  }\n  this.handleInputChange(this.el.value);\n};\nSuggestions.prototype.handleKeyDown = function (e) {\n  switch (e.keyCode) {\n    case 13:\n      // ENTER\n      if (this.list.active >= 0) {\n        this.list.selectingListItem = true;\n      }\n      break;\n    case 9:\n      // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.active >= 0 ? this.list.items[this.list.active].original : null);\n        this.list.hide();\n      }\n      break;\n    case 27:\n      // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n      break;\n    case 38:\n      // UP\n      this.list.previous();\n      break;\n    case 40:\n      // DOWN\n      this.list.next();\n      break;\n  }\n};\nSuggestions.prototype.handleBlur = function () {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\nSuggestions.prototype.handlePaste = function (e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\nSuggestions.prototype.handleInputChange = function (query) {\n  this.query = this.normalize(query);\n  this.list.clear();\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n  this.getCandidates(function (data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === this.options.limit - 1) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\nSuggestions.prototype.handleFocus = function () {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function (revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function () {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function (value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function (candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\nSuggestions.prototype.value = function (value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value || {\n    place_name: this.query\n  });\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\nSuggestions.prototype.getCandidates = function (callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function (d) {\n      return this.getItemValue(d);\n    }.bind(this)\n  };\n  var results;\n  if (this.options.filter) {\n    results = fuzzy.filter(this.query, this.data, options);\n    results = results.map(function (item) {\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this));\n  } else {\n    results = this.data.map(function (d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function (item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function (item, sourceFormatting) {\n  if (sourceFormatting) {\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = item.original ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString;\n};\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function (msg) {\n  this.list.drawError(msg);\n};\nmodule.exports = Suggestions;","map":{"version":3,"names":["extend","require","fuzzy","List","Suggestions","el","data","options","minLength","limit","filter","hideOnBlur","noInitialSelection","list","query","selected","draw","addEventListener","e","handleKeyUp","keyCode","bind","handleKeyDown","handleFocus","handleBlur","handlePaste","render","getItemValue","prototype","items","active","handleMouseUp","stopPropagation","handleInputChange","value","selectingListItem","isEmpty","isVisible","preventDefault","original","hide","previous","next","clipboardData","getData","self","setTimeout","target","normalize","clear","length","getCandidates","i","add","show","update","revisedData","toLowerCase","match","candidate","indexOf","place_name","document","createEvent","initEvent","dispatchEvent","fireEvent","callback","pre","post","extract","d","results","map","item","string","renderedString","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","slice","renderError","msg","drawError","module","exports"],"sources":["C:/Users/sael.bouzemarene/cfbsprojet/node_modules/suggestions-list/src/suggestions.js"],"sourcesContent":["'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true,\n    noInitialSelection: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode, e);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode, e) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 9) return;\n      \n  if (keyCode === 13) {\n    if (this.list.items[this.list.active]) {\n      this.list.handleMouseUp(this.list.items[this.list.active]);\n      e.stopPropagation();\n    }\n    return;\n  }\n  \n  this.handleInputChange(this.el.value);\n\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n      if (this.list.active >= 0) {\n        this.list.selectingListItem = true;\n      }\n      break;\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.active >= 0 ? this.list.items[this.list.active].original : null);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value || { place_name: this.query });\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}
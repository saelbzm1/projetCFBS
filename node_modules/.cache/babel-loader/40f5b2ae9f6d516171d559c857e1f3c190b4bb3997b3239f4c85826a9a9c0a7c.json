{"ast":null,"code":"import { __rest as e } from \"tslib\";\nimport { Storage as r } from \"aws-amplify\";\nimport { translate as t } from \"../../../../i18n/translations.mjs\";\nfunction l(t) {\n  var {\n      file: l,\n      fileName: a,\n      level: o = \"private\",\n      progressCallback: s,\n      errorCallback: i,\n      completeCallback: n,\n      isResumable: p = !1,\n      provider: c\n    } = t,\n    b = e(t, [\"file\", \"fileName\", \"level\", \"progressCallback\", \"errorCallback\", \"completeCallback\", \"isResumable\", \"provider\"]);\n  const m = l.type || \"binary/octet-stream\";\n  return !0 === p ? r.put(a, l, Object.assign({\n    level: o,\n    resumable: p,\n    progressCallback: s,\n    errorCallback: i,\n    completeCallback: n,\n    contentType: m,\n    provider: c\n  }, b)) : r.put(a, l, Object.assign({\n    level: o,\n    resumable: !1,\n    progressCallback: s,\n    contentType: m,\n    provider: c\n  }, b)).then(n, i);\n}\nfunction a(e) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  let t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  const l = r ? 1e3 : 1024;\n  if (Math.abs(e) < l) return e + \" B\";\n  const a = r ? [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"] : [\"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"];\n  let o = -1;\n  const s = Math.pow(10, t);\n  do {\n    e /= l, ++o;\n  } while (Math.round(Math.abs(e) * s) / s >= l && o < a.length - 1);\n  return e.toFixed(t) + \" \" + a[o];\n}\nconst o = (e, r) => e && r.size > e ? t(\"File size must be below \") + a(e, !0) : null,\n  s = (e, r) => e.filter(e => {\n    const t = e.name || \"\",\n      l = (e.type || \"\").toLowerCase(),\n      a = l.replace(/\\/.*$/, \"\");\n    return r.some(e => {\n      const r = e.trim().toLowerCase();\n      return \".\" === r.charAt(0) ? t.toLowerCase().endsWith(r) : r.endsWith(\"/*\") ? a === r.replace(/\\/.*$/, \"\") : l === r;\n    });\n  }),\n  i = (e, r) => {\n    const t = e.split(\".\").pop();\n    return r.split(\".\").pop() === t;\n  };\nexport { o as checkMaxSize, a as humanFileSize, i as isValidExtension, s as returnAcceptedFiles, l as uploadFile };","map":{"version":3,"names":["__rest","e","Storage","r","translate","t","l","file","fileName","a","level","o","progressCallback","s","errorCallback","i","completeCallback","n","isResumable","p","provider","c","b","m","type","put","Object","assign","resumable","contentType","then","arguments","length","undefined","Math","abs","pow","round","toFixed","size","filter","name","toLowerCase","replace","some","trim","charAt","endsWith","split","pop","checkMaxSize","humanFileSize","isValidExtension","returnAcceptedFiles","uploadFile"],"sources":["C:/Users/sael.bouzemarene/cfbsprojet/node_modules/@aws-amplify/ui/dist/esm/helpers/storage/fileUploader/utils/uploader.mjs"],"sourcesContent":["import{__rest as e}from\"tslib\";import{Storage as r}from\"aws-amplify\";import{translate as t}from\"../../../../i18n/translations.mjs\";function l(t){var{file:l,fileName:a,level:o=\"private\",progressCallback:s,errorCallback:i,completeCallback:n,isResumable:p=!1,provider:c}=t,b=e(t,[\"file\",\"fileName\",\"level\",\"progressCallback\",\"errorCallback\",\"completeCallback\",\"isResumable\",\"provider\"]);const m=l.type||\"binary/octet-stream\";return!0===p?r.put(a,l,Object.assign({level:o,resumable:p,progressCallback:s,errorCallback:i,completeCallback:n,contentType:m,provider:c},b)):r.put(a,l,Object.assign({level:o,resumable:!1,progressCallback:s,contentType:m,provider:c},b)).then(n,i)}function a(e,r=!1,t=1){const l=r?1e3:1024;if(Math.abs(e)<l)return e+\" B\";const a=r?[\"kB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"]:[\"KiB\",\"MiB\",\"GiB\",\"TiB\",\"PiB\",\"EiB\",\"ZiB\",\"YiB\"];let o=-1;const s=Math.pow(10,t);do{e/=l,++o}while(Math.round(Math.abs(e)*s)/s>=l&&o<a.length-1);return e.toFixed(t)+\" \"+a[o]}const o=(e,r)=>e&&r.size>e?t(\"File size must be below \")+a(e,!0):null,s=(e,r)=>e.filter((e=>{const t=e.name||\"\",l=(e.type||\"\").toLowerCase(),a=l.replace(/\\/.*$/,\"\");return r.some((e=>{const r=e.trim().toLowerCase();return\".\"===r.charAt(0)?t.toLowerCase().endsWith(r):r.endsWith(\"/*\")?a===r.replace(/\\/.*$/,\"\"):l===r}))})),i=(e,r)=>{const t=e.split(\".\").pop();return r.split(\".\").pop()===t};export{o as checkMaxSize,a as humanFileSize,i as isValidExtension,s as returnAcceptedFiles,l as uploadFile};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
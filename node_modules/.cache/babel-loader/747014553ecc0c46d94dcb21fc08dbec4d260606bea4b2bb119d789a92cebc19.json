{"ast":null,"code":"import { returnAcceptedFiles as e, checkMaxSize as t } from \"@aws-amplify/ui\";\nimport { useState as r } from \"react\";\nimport { FileState as a } from \"../../types.mjs\";\nfunction n(_ref) {\n  let {\n    maxSize: n,\n    acceptedFileTypes: o,\n    hasMultipleFiles: s,\n    isLoading: i,\n    setAutoLoad: l\n  } = _ref;\n  const [p, f] = r([]),\n    [g, u] = r(!1),\n    [c, h] = r(!1),\n    D = (e, r) => {\n      const o = [...r];\n      [...e].forEach(e => {\n        const r = t(n, e);\n        o.unshift({\n          fileState: r ? a.ERROR : a.INIT,\n          fileErrors: r,\n          file: e,\n          name: e.name\n        });\n      }), f(o);\n    },\n    m = t => {\n      const r = e([...t], o);\n      return r ? !s && p.length > 0 ? p.length : s || 1 != r.length ? !s && r.length > 1 ? (D([r[0]], p), 1) : r.length > 0 ? (D([...r], p), r.length + p.length) : 0 : (D([...r], p), r.length) : 0;\n    };\n  return {\n    inDropZone: c,\n    onDragEnter: e => {\n      e.preventDefault(), e.stopPropagation();\n    },\n    onDragLeave: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      h(!1);\n    },\n    onDragOver: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      h(!0), e.dataTransfer.dropEffect = \"copy\";\n    },\n    onDragStart: e => {\n      e.dataTransfer.clearData();\n    },\n    onDrop: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      const {\n        files: t\n      } = e.dataTransfer;\n      m([...t]) > 0 && (u(!0), l(!0)), h(!1);\n    },\n    setInDropZone: h,\n    setShowPreviewer: u,\n    addTargetFiles: m,\n    showPreviewer: g,\n    fileStatuses: p,\n    setFileStatuses: f\n  };\n}\nexport { n as default };","map":{"version":3,"names":["returnAcceptedFiles","e","checkMaxSize","t","useState","r","FileState","a","n","_ref","maxSize","acceptedFileTypes","o","hasMultipleFiles","s","isLoading","i","setAutoLoad","l","p","f","g","u","c","h","D","forEach","unshift","fileState","ERROR","INIT","fileErrors","file","name","m","length","inDropZone","onDragEnter","preventDefault","stopPropagation","onDragLeave","onDragOver","dataTransfer","dropEffect","onDragStart","clearData","onDrop","files","setInDropZone","setShowPreviewer","addTargetFiles","showPreviewer","fileStatuses","setFileStatuses","default"],"sources":["C:/Users/sael.bouzemarene/cfbsprojet/node_modules/@aws-amplify/ui-react/dist/esm/components/Storage/FileUploader/hooks/useFileUploader/useFileUploader.mjs"],"sourcesContent":["import{returnAcceptedFiles as e,checkMaxSize as t}from\"@aws-amplify/ui\";import{useState as r}from\"react\";import{FileState as a}from\"../../types.mjs\";function n({maxSize:n,acceptedFileTypes:o,hasMultipleFiles:s,isLoading:i,setAutoLoad:l}){const[p,f]=r([]),[g,u]=r(!1),[c,h]=r(!1),D=(e,r)=>{const o=[...r];[...e].forEach((e=>{const r=t(n,e);o.unshift({fileState:r?a.ERROR:a.INIT,fileErrors:r,file:e,name:e.name})})),f(o)},m=t=>{const r=e([...t],o);return r?!s&&p.length>0?p.length:s||1!=r.length?!s&&r.length>1?(D([r[0]],p),1):r.length>0?(D([...r],p),r.length+p.length):0:(D([...r],p),r.length):0};return{inDropZone:c,onDragEnter:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;h(!1)},onDragOver:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;h(!0),e.dataTransfer.dropEffect=\"copy\"},onDragStart:e=>{e.dataTransfer.clearData()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;const{files:t}=e.dataTransfer;m([...t])>0&&(u(!0),l(!0)),h(!1)},setInDropZone:h,setShowPreviewer:u,addTargetFiles:m,showPreviewer:g,fileStatuses:p,setFileStatuses:f}}export{n as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}